## 现代程设复习

重点：并发（熟练掌握）

### 1 分值结构

- 判断：10分
- 选择：20分
- 编程：40分，6道题，按行给分（注意题干要点）
  - 五分的题就写五行
  - 十分的题需要设计，有难度

### 2 串讲

#### 2.1 python解释器

- 跨平台，移植性强
- 跟系统解耦
- 针对不同操作系统做了不同的解释器
- 不足：
  - 效率低；
  - 全局锁，多线程无法并行；

#### 2.2 代码格式

- 缩进

#### 2.3 数据类型

- 不可变：**字符串**
- 可变
  - List：
  - Set：哈希，把数据结构变成唯一的数字，元素一般都是不可变类型；
  - Dictionary：同Set
- 判断

#### 2.4 函数

- 不可变类型传值（副本）

- 可变类型传引用（地址），即能够修改数据

- **默认参数只能被赋值一次，默认值为可变对象时会不断累积**，避免方法：先设置成None再判断

- 万能参

  ```python
  def f(*args, **kwargs):
      pass
  
  f(*args, **kwargs) # 调用时星号为拆分
  ```

- lambda：返回值，何时用

- 闭包：外函数变量共享，可能需要累计，有时不需要累计，内函数用外函数变量（nonlocal），装饰器本身有参数，再包一层

#### 2.5 模块

- `python module.py`时，其`__name__`被设置为`"__main__"`，可控

#### 2.6 命名空间与作用域

#### 2.7 面向对象

- 封装：一类东西特有的
- 继承
- 多态：主要通过继承实现

- 类：
  - 元编程需干扰`__new__()`，单例
  - `__init__()`：注意继承中`super().__init__()`
  - 专有方法
  - 运算符重载

#### 2.8 异常处理

- 格式
- 多个子句捕获
- 异常抛出：保留现场痕迹，message等等
- 断言
- `with as`怎么支持？

#### 2.9 装饰器*

- 怎么实现：函数，类（`__call__`）
- 参数定义，闭包封装
- 函数名不变：`functools.wraps(func)`

#### 2.10 抽象类（编程题之一）

- 元类
  - 知道怎么写
- 抽象类
  - 往往为了多态，同样的行为
  - 知道怎么写抽象类

#### 2.11 生成器与迭代器

- 迭代器`__iter__()`、`__next__()`用法

#### 2.12 多进程

- 进程池注意`future`，乱序

#### 2.13 多线程

- list，文件等等需锁
- 锁、队列、条件重要！

#### 2.14 协程

- gevent
- asyncio，要配合其他异步的库
  - await（标记）后跟随
    - 协程
    - future
    - 异步IO

- 不考第三方库

#### 2.15 网络编程

- socket逻辑顺序，TCP/UDP过程

#### 2.16 数据库不考！

